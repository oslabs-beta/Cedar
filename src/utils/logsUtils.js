const inputArr = [
    {
        "eventId": "36831793116580590818232294491244271394960211219262210048",
        "ingestionTime": 1651594728807,
        "logStreamName": "2022/05/03/[$LATEST]c40a1aed75af493f9285fa392c0882ed",
        "message": "START RequestId: 13973172-fc1a-47da-a902-dc609967a4fd Version: $LATEST\n",
        "timestamp": 1651594724243
    },
    {
        "eventId": "36831793116937402741408784461508842887322585003357896705",
        "ingestionTime": 1651594728807,
        "logStreamName": "2022/05/03/[$LATEST]c40a1aed75af493f9285fa392c0882ed",
        "message": "2022-05-03T16:18:44.246Z\t13973172-fc1a-47da-a902-dc609967a4fd\tERROR\tInvoke Error \t{\"errorType\":\"TypeError\",\"errorMessage\":\"Cannot read property 'index' of undefined\",\"stack\":[\"TypeError: Cannot read property 'index' of undefined\",\"    at Runtime.myloop [as handler] (/var/task/index.js:2:30)\",\"    at Runtime.handleOnce (/var/runtime/Runtime.js:66:25)\"]}\n",
        "timestamp": 1651594724259
    },
    {
        "eventId": "36831793117428019135776458170622628689320848956489465858",
        "ingestionTime": 1651594728807,
        "logStreamName": "2022/05/03/[$LATEST]c40a1aed75af493f9285fa392c0882ed",
        "message": "END RequestId: 13973172-fc1a-47da-a902-dc609967a4fd\n",
        "timestamp": 1651594724281
    },
    {
        "eventId": "36831793117428019135776458170622628689320848956489465859",
        "ingestionTime": 1651594728807,
        "logStreamName": "2022/05/03/[$LATEST]c40a1aed75af493f9285fa392c0882ed",
        "message": "REPORT RequestId: 13973172-fc1a-47da-a902-dc609967a4fd\tDuration: 35.60 ms\tBilled Duration: 36 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\tInit Duration: 163.12 ms\t\n",
        "timestamp": 1651594724281
    },
    {
        "eventId": "36832072062798117959906731360663139688344070410129047552",
        "ingestionTime": 1651607238863,
        "logStreamName": "2022/05/03/[$LATEST]7608ca3b99f84b5ba923a7b81310c420",
        "message": "START RequestId: 983420c4-2b1f-4b53-a805-d28b6f41e446 Version: $LATEST\n",
        "timestamp": 1651607232624
    },
    {
        "eventId": "36832072062976523921494976345795425434525257302176890881",
        "ingestionTime": 1651607238863,
        "logStreamName": "2022/05/03/[$LATEST]7608ca3b99f84b5ba923a7b81310c420",
        "message": "2022-05-03T19:47:12.631Z\t983420c4-2b1f-4b53-a805-d28b6f41e446\tERROR\tInvoke Error \t{\"errorType\":\"TypeError\",\"errorMessage\":\"Cannot read property 'index' of undefined\",\"stack\":[\"TypeError: Cannot read property 'index' of undefined\",\"    at Runtime.myloop [as handler] (/var/task/index.js:2:30)\",\"    at Runtime.handleOnce (/var/runtime/Runtime.js:66:25)\"]}\n",
        "timestamp": 1651607232632
    },
    {
        "eventId": "36832072063489441061061180678050746954796169616814440450",
        "ingestionTime": 1651607238863,
        "logStreamName": "2022/05/03/[$LATEST]7608ca3b99f84b5ba923a7b81310c420",
        "message": "END RequestId: 983420c4-2b1f-4b53-a805-d28b6f41e446\n",
        "timestamp": 1651607232655
    },
    {
        "eventId": "36832072063489441061061180678050746954796169616814440451",
        "ingestionTime": 1651607238863,
        "logStreamName": "2022/05/03/[$LATEST]7608ca3b99f84b5ba923a7b81310c420",
        "message": "REPORT RequestId: 983420c4-2b1f-4b53-a805-d28b6f41e446\tDuration: 27.79 ms\tBilled Duration: 28 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\tInit Duration: 183.63 ms\t\n",
        "timestamp": 1651607232655
    },
    {
        "eventId": "36832123961181546961167031651472592423572971494277709824",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "START RequestId: 60b11e2d-9fb2-4b58-a058-2a46a29d79ad Version: $LATEST\n",
        "timestamp": 1651609559828
    },
    {
        "eventId": "36832123961315351432358215390321806733208861663313592321",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "2022-05-03T20:25:59.834Z\t60b11e2d-9fb2-4b58-a058-2a46a29d79ad\tERROR\tInvoke Error \t{\"errorType\":\"TypeError\",\"errorMessage\":\"Cannot read property 'index' of undefined\",\"stack\":[\"TypeError: Cannot read property 'index' of undefined\",\"    at Runtime.myloop [as handler] (/var/task/index.js:2:30)\",\"    at Runtime.handleOnce (/var/runtime/Runtime.js:66:25)\"]}\n",
        "timestamp": 1651609559834
    },
    {
        "eventId": "36832123961805967826725889099435592535207125616445161474",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "END RequestId: 60b11e2d-9fb2-4b58-a058-2a46a29d79ad\n",
        "timestamp": 1651609559856
    },
    {
        "eventId": "36832123961805967826725889099435592535207125616445161475",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "REPORT RequestId: 60b11e2d-9fb2-4b58-a058-2a46a29d79ad\tDuration: 25.66 ms\tBilled Duration: 26 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\tInit Duration: 172.92 ms\t\n",
        "timestamp": 1651609559856
    },
    {
        "eventId": "36832124040572199867936050035339749474201138455567990788",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "START RequestId: d12e4a3a-ddcd-4b15-a6b9-f814cee51bde Version: $LATEST\n",
        "timestamp": 1651609563388
    },
    {
        "eventId": "36832124040639102103531641904764356629019083540085932037",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "2022-05-03T20:26:03.391Z\td12e4a3a-ddcd-4b15-a6b9-f814cee51bde\tERROR\tInvoke Error \t{\"errorType\":\"TypeError\",\"errorMessage\":\"Cannot read property 'index' of undefined\",\"stack\":[\"TypeError: Cannot read property 'index' of undefined\",\"    at Runtime.myloop [as handler] (/var/task/index.js:2:30)\",\"    at Runtime.handleOnce (/var/runtime/Runtime.js:66:25)\"]}\n",
        "timestamp": 1651609563391
    },
    {
        "eventId": "36832124040683703593928703151047428065564380263097892870",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "END RequestId: d12e4a3a-ddcd-4b15-a6b9-f814cee51bde\n",
        "timestamp": 1651609563393
    },
    {
        "eventId": "36832124040683703593928703151047428065564380263097892871",
        "ingestionTime": 1651609568468,
        "logStreamName": "2022/05/03/[$LATEST]8f61fbf4e6ab4555aea3f46e9fe6d510",
        "message": "REPORT RequestId: d12e4a3a-ddcd-4b15-a6b9-f814cee51bde\tDuration: 1.51 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\t\n",
        "timestamp": 1651609563393
    },
    {
        "eventId": "36832132354312310625350888276324799062672979029330886656",
        "ingestionTime": 1651609943452,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "START RequestId: 5842c227-7dd8-4c30-ace9-859844be9906 Version: $LATEST\n",
        "timestamp": 1651609936189
    },
    {
        "eventId": "36832132354401513606145010768890941935763572475354808321",
        "ingestionTime": 1651609943452,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "2022-05-03T20:32:16.192Z\t5842c227-7dd8-4c30-ace9-859844be9906\tERROR\tInvoke Error \t{\"errorType\":\"TypeError\",\"errorMessage\":\"Cannot read property 'index' of undefined\",\"stack\":[\"TypeError: Cannot read property 'index' of undefined\",\"    at Runtime.myloop [as handler] (/var/task/index.js:2:30)\",\"    at Runtime.handleOnce (/var/runtime/Runtime.js:66:25)\"]}\n",
        "timestamp": 1651609936193
    },
    {
        "eventId": "36832132354892130000512684478004727737761836428486377474",
        "ingestionTime": 1651609943452,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "END RequestId: 5842c227-7dd8-4c30-ace9-859844be9906\n",
        "timestamp": 1651609936215
    },
    {
        "eventId": "36832132354892130000512684478004727737761836428486377475",
        "ingestionTime": 1651609943452,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "REPORT RequestId: 5842c227-7dd8-4c30-ace9-859844be9906\tDuration: 22.67 ms\tBilled Duration: 23 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\tInit Duration: 175.61 ms\t\n",
        "timestamp": 1651609936215
    },
    {
        "eventId": "36832133526907793909289583747106384490153700274593333248",
        "ingestionTime": 1651609997791,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "START RequestId: 31833fd2-755f-477e-96a6-2b6f8dbd4d27 Version: $LATEST\n",
        "timestamp": 1651609988770
    },
    {
        "eventId": "36832133529673086313907381016656813555962097101334904833",
        "ingestionTime": 1651609997791,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "END RequestId: 31833fd2-755f-477e-96a6-2b6f8dbd4d27\n",
        "timestamp": 1651609988894
    },
    {
        "eventId": "36832133529673086313907381016656813555962097101334904834",
        "ingestionTime": 1651609997791,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "REPORT RequestId: 31833fd2-755f-477e-96a6-2b6f8dbd4d27\tDuration: 120.11 ms\tBilled Duration: 121 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\t\n",
        "timestamp": 1651609988894
    },
    {
        "eventId": "36832133658593694306612913397874800890142274967407689731",
        "ingestionTime": 1651609997791,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "START RequestId: afcd82d0-2be3-475e-bac8-4e9c61657c1a Version: $LATEST\n",
        "timestamp": 1651609994675
    },
    {
        "eventId": "36832133660823768826465975712028372717407111118005731332",
        "ingestionTime": 1651609997791,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "END RequestId: afcd82d0-2be3-475e-bac8-4e9c61657c1a\n",
        "timestamp": 1651609994775
    },
    {
        "eventId": "36832133660823768826465975712028372717407111118005731333",
        "ingestionTime": 1651609997791,
        "logStreamName": "2022/05/03/[$LATEST]1c218220e0304a22ab9b652f8c25197c",
        "message": "REPORT RequestId: afcd82d0-2be3-475e-bac8-4e9c61657c1a\tDuration: 96.37 ms\tBilled Duration: 97 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\t\n",
        "timestamp": 1651609994775
    },
    {
        "eventId": "36832147952457036011602592346156789084712687360602931200",
        "ingestionTime": 1651610636945,
        "logStreamName": "2022/05/03/[$LATEST]07c449a4552a449488da7a815387649a",
        "message": "START RequestId: 6386a845-20e4-4c3b-b13b-3311d46af34b Version: $LATEST\n",
        "timestamp": 1651610635634
    },
    {
        "eventId": "36832147952568539737595245461864467676075929168132833281",
        "ingestionTime": 1651610636945,
        "logStreamName": "2022/05/03/[$LATEST]07c449a4552a449488da7a815387649a",
        "message": "END RequestId: 6386a845-20e4-4c3b-b13b-3311d46af34b\n",
        "timestamp": 1651610635639
    },
    {
        "eventId": "36832147952568539737595245461864467676075929168132833282",
        "ingestionTime": 1651610636945,
        "logStreamName": "2022/05/03/[$LATEST]07c449a4552a449488da7a815387649a",
        "message": "REPORT RequestId: 6386a845-20e4-4c3b-b13b-3311d46af34b\tDuration: 3.47 ms\tBilled Duration: 4 ms\tMemory Size: 128 MB\tMax Memory Used: 55 MB\tInit Duration: 174.73 ms\t\n",
        "timestamp": 1651610635639
    },
    {
        "eventId": "36834004565964068971740732601322100944297276970339729408",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "START RequestId: 87216a79-a142-4942-8003-569baae0e931 Version: $LATEST\n",
        "timestamp": 1651693889063
    },
    {
        "eventId": "36834004566253978659321630702162065281841705669917474817",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "END RequestId: 87216a79-a142-4942-8003-569baae0e931\n",
        "timestamp": 1651693889076
    },
    {
        "eventId": "36834004566253978659321630702162065281841705669917474818",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "REPORT RequestId: 87216a79-a142-4942-8003-569baae0e931\tDuration: 10.73 ms\tBilled Duration: 11 ms\tMemory Size: 128 MB\tMax Memory Used: 55 MB\tInit Duration: 161.03 ms\t\n",
        "timestamp": 1651693889076
    },
    {
        "eventId": "36834004676843374098834990861037692195904930378074357763",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "START RequestId: c8e70c6b-48b6-41f0-8323-237264491db7 Version: $LATEST\n",
        "timestamp": 1651693894035
    },
    {
        "eventId": "36834004676910276334430582730462299350722875462592299012",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "END RequestId: c8e70c6b-48b6-41f0-8323-237264491db7\n",
        "timestamp": 1651693894038
    },
    {
        "eventId": "36834004676910276334430582730462299350722875462592299013",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "REPORT RequestId: c8e70c6b-48b6-41f0-8323-237264491db7\tDuration: 1.22 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\t\n",
        "timestamp": 1651693894038
    },
    {
        "eventId": "36834004718278158677704888658011056746485586056185970694",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "START RequestId: ce4dc232-5d10-4b98-a747-dd4388df099a Version: $LATEST\n",
        "timestamp": 1651693895893
    },
    {
        "eventId": "36834004718411963148896072396860271056121476225221853191",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "END RequestId: ce4dc232-5d10-4b98-a747-dd4388df099a\n",
        "timestamp": 1651693895899
    },
    {
        "eventId": "36834004718411963148896072396860271056121476225221853192",
        "ingestionTime": 1651693896225,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "REPORT RequestId: ce4dc232-5d10-4b98-a747-dd4388df099a\tDuration: 1.33 ms\tBilled Duration: 2 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\t\n",
        "timestamp": 1651693895899
    },
    {
        "eventId": "36834004769525271143928260650541839781024153013921775616",
        "ingestionTime": 1651693907211,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "START RequestId: 19f8633a-f97f-476f-bcd2-0e64dcf9d7da Version: $LATEST\n",
        "timestamp": 1651693898191
    },
    {
        "eventId": "36834004772268262803347527296950733128559901479157366785",
        "ingestionTime": 1651693907211,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "END RequestId: 19f8633a-f97f-476f-bcd2-0e64dcf9d7da\n",
        "timestamp": 1651693898314
    },
    {
        "eventId": "36834004772268262803347527296950733128559901479157366786",
        "ingestionTime": 1651693907211,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "REPORT RequestId: 19f8633a-f97f-476f-bcd2-0e64dcf9d7da\tDuration: 119.74 ms\tBilled Duration: 120 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\t\n",
        "timestamp": 1651693898314
    },
    {
        "eventId": "36834004811807484040342322126893561625965446429260644355",
        "ingestionTime": 1651693907211,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "START RequestId: 8a9a363c-957a-4008-adb4-5e4a3d07d056 Version: $LATEST\n",
        "timestamp": 1651693900087
    },
    {
        "eventId": "36834004813725348127415955717065633397413205518774960132",
        "ingestionTime": 1651693907211,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "END RequestId: 8a9a363c-957a-4008-adb4-5e4a3d07d056\n",
        "timestamp": 1651693900173
    },
    {
        "eventId": "36834004813725348127415955717065633397413205518774960133",
        "ingestionTime": 1651693907211,
        "logStreamName": "2022/05/04/[$LATEST]7016eaebc68e49bf81f942751cc2c5b8",
        "message": "REPORT RequestId: 8a9a363c-957a-4008-adb4-5e4a3d07d056\tDuration: 81.87 ms\tBilled Duration: 82 ms\tMemory Size: 128 MB\tMax Memory Used: 56 MB\t\n",
        "timestamp": 1651693900173
    }
]


// {
//     <logStreamName1>: {
//       IngestionTime: timestamp
//       Start: ‘start message’
//       End: ‘end message
//       Report:
//       hasError: false
//       Error: null
//     }
//     <logStreamName2>:
//   }

//write a function that loops thru array of log objects
//it should populate an object w/ the above key value pairs
//input = arr of obj
//output = obj

function readLog(inputArr){
  const outputObj = {};
  //loop thru inputArr
  for(let i = 0; i < inputArr.length; i++){
    let currObj = inputArr[i];

    if (!outputObj[currObj.logStreamName]){
    outputObj[currObj.logStreamName] = {
        ingestionTime: [currObj.ingestionTime],
        timestamp: currObj.timestamp,
        hasError: false,
        start: currObj.message,
        end: currObj.message,
        report: currObj.message,
        error: undefined
        }
    } else {

        let objMessage = currObj.message.slice(0, 3)
        //console.log(objMessage)
            if (objMessage === 'STA'){
                Object.assign(outputObj[currObj.logStreamName], 
                    outputObj[currObj.logStreamName].start = {
                    message: currObj.message,
                    timestamp: currObj.timestamp
                })
            } else if (objMessage === 'END'){
                Object.assign(outputObj[currObj.logStreamName], 
                    outputObj[currObj.logStreamName].end = {
                    message: currObj.message,
                    timestamp: currObj.timestamp
                })
            } else if (objMessage === 'REP'){
                //console.log(outputObj);
                Object.assign(outputObj[currObj.logStreamName], 
                    outputObj[currObj.logStreamName].report = {
                    message: currObj.message,
                    timestamp: currObj.timestamp
                })
            } else {
                Object.assign(outputObj[currObj.logStreamName], 
                    outputObj[currObj.logStreamName].hasError = true,
                    outputObj[currObj.logStreamName].error = {
                    message: currObj.message,
                    timestamp: currObj.timestamp
                })
           }              
    }
  }
//   console.log(Object.keys(outputObj))
  return outputObj;
}

readLog(inputArr);
// console.log(readLog(inputArr));

// Start: currObj[message]
// End: 'jfdaslfjdfjdl'{
//     timestamp: 99999
// }
// Report:
// hasError: 
// Error: 

// lognamekey : {
//     start: {
//         message: this is the message,
//         timestamp : timestamp
//     }
// }